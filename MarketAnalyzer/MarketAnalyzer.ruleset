<?xml version="1.0" encoding="utf-8"?>
<RuleSet Name="MarketAnalyzer Rules" Description="Code analysis rules for MarketAnalyzer" ToolsVersion="16.0">
  <Rules AnalyzerId="Microsoft.Analyzers.ManagedCodeAnalysis" RuleNamespace="Microsoft.Rules.Managed">
    <!-- Performance Rules -->
    <Rule Id="CA1820" Action="Warning" />  <!-- Test for empty strings using string length -->
    <Rule Id="CA1821" Action="Warning" />  <!-- Remove empty finalizers -->
    <Rule Id="CA1822" Action="Warning" />  <!-- Mark members as static -->
    <Rule Id="CA1823" Action="Warning" />  <!-- Avoid unused private fields -->
    
    <!-- Security Rules -->
    <Rule Id="CA2100" Action="Error" />    <!-- Review SQL queries for security vulnerabilities -->
    <Rule Id="CA2119" Action="Error" />    <!-- Seal methods that satisfy private interfaces -->
    <Rule Id="CA2153" Action="Error" />    <!-- Do not catch corrupted state exceptions -->
    
    <!-- Reliability Rules -->
    <Rule Id="CA2000" Action="Warning" />  <!-- Dispose objects before losing scope -->
    <Rule Id="CA2002" Action="Warning" />  <!-- Do not lock on objects with weak identity -->
    <Rule Id="CA2007" Action="Warning" />  <!-- Consider calling ConfigureAwait on the awaited task -->
    <Rule Id="CA2008" Action="Warning" />  <!-- Do not create tasks without passing a TaskScheduler -->
    
    <!-- Usage Rules -->
    <Rule Id="CA2200" Action="Error" />    <!-- Rethrow to preserve stack details -->
    <Rule Id="CA2201" Action="Warning" />  <!-- Do not raise reserved exception types -->
    <Rule Id="CA2208" Action="Warning" />  <!-- Instantiate argument exceptions correctly -->
    <Rule Id="CA2211" Action="Warning" />  <!-- Non-constant fields should not be visible -->
    <Rule Id="CA2213" Action="Warning" />  <!-- Disposable fields should be disposed -->
    <Rule Id="CA2214" Action="Error" />    <!-- Do not call overridable methods in constructors -->
    <Rule Id="CA2215" Action="Warning" />  <!-- Dispose methods should call base class dispose -->
    <Rule Id="CA2216" Action="Warning" />  <!-- Disposable types should declare finalizer -->
    <Rule Id="CA2217" Action="Warning" />  <!-- Do not mark enums with FlagsAttribute -->
    <Rule Id="CA2218" Action="Warning" />  <!-- Override GetHashCode on overriding Equals -->
    <Rule Id="CA2219" Action="Warning" />  <!-- Do not raise exceptions in exception clauses -->
    <Rule Id="CA2224" Action="Warning" />  <!-- Override equals on overloading operator equals -->
    <Rule Id="CA2225" Action="Warning" />  <!-- Operator overloads have named alternates -->
    <Rule Id="CA2226" Action="Warning" />  <!-- Operators should have symmetrical overloads -->
    <Rule Id="CA2227" Action="Warning" />  <!-- Collection properties should be read only -->
    <Rule Id="CA2231" Action="Warning" />  <!-- Overload operator equals on overriding ValueType.Equals -->
    <Rule Id="CA2234" Action="Warning" />  <!-- Pass System.Uri objects instead of strings -->
    <Rule Id="CA2235" Action="Warning" />  <!-- Mark all non-serializable fields -->
    <Rule Id="CA2237" Action="Warning" />  <!-- Mark ISerializable types with SerializableAttribute -->
    <Rule Id="CA2238" Action="Warning" />  <!-- Implement serialization methods correctly -->
    <Rule Id="CA2240" Action="Warning" />  <!-- Implement ISerializable correctly -->
    <Rule Id="CA2241" Action="Warning" />  <!-- Provide correct arguments to formatting methods -->
    <Rule Id="CA2242" Action="Warning" />  <!-- Test for NaN correctly -->
    <Rule Id="CA2243" Action="Warning" />  <!-- Attribute string literals should parse correctly -->
    
    <!-- Financial Calculation Rules - Custom -->
    <Rule Id="MA0001" Action="Error" />    <!-- Use decimal for financial calculations -->
    <Rule Id="MA0002" Action="Error" />    <!-- All methods must have LogMethodEntry/Exit -->
    <Rule Id="MA0003" Action="Error" />    <!-- All operations must return TradingResult<T> -->
    <Rule Id="MA0004" Action="Warning" />  <!-- Services should inherit from CanonicalServiceBase -->
  </Rules>
</RuleSet>